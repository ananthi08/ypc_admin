<style>
  .hik{
     margin-top: 60px;
  }

  .hi{
    background: #A51C05;
    color: white;
  }
  .card {
    transition: transform 0.3s, opacity 0.3s, box-shadow 0.3s;
  }

  .card:hover {
    transform: scale(1.1);
    opacity: 0.9;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
  }

  .card-title,
  .h2 {
    transition: color 0.3s, transform 0.3s;
  }

  .card:hover .card-title,
  .card:hover .h2 {
    color: #ff5733; 
    transform: translateY(-5px);
  }

  .icon-shape i {
    transition: transform 0.3s;
  }

  .card:hover .icon-shape i {
    transform: rotate(180deg);
  }

th,td{
  font-family: DM Sans;
  font-size: 50;
}
  
</style>
<div class="toast collapse opacity1" id="collapseExample">
  <div class="toast-body">
     {{errormsg}}
  </div>
</div>

<div class="toast collapse opacity1"  id="collapseExample1">
  <div class="toast-body">
     {{successmsg}}
  </div>
</div>



<app-adminheader></app-adminheader>
<div class="sidebarContainer">
  <app-leftnav></app-leftnav>
</div>


<div class="pageContent " style="margin-top: 50px;">
    <main id="main" class="main">
      <div id="sideBarContent" class="container-fluid pe-5 ps-6">
  
        <section class="section dashboard borrowers">
  
  
       
         
            <div class="container " >
<div class="row hik">



  <div class="col-12 mt-5">



<div class="header bg-gradient-danger pb-8 pt-5 pt-md-8">
  
  <div class="container-fluid">
    <div class="header-body">
      
      <!-- Card stats -->

      <div class="pt-5">

        <div class="row mt-5">  
        
          <div  *ngIf="role == 'Superadmin'">
            <div class=" d-grid gap-2 d-md-flex justify-content-md-end">
              <button type="button" class="btn btn-sm" data-bs-toggle="modal" data-bs-target="#mahisiva" style="background:#A51C05;color: white;">Add Admin</button>
            </div>
          </div>
          
          
          
          <!-- id="exampleModal-41"     -->

          <div class="col-xl-3 col-lg-6" (click)="toggleUserTableVisibility()">
            <div class="card card-stats mb-4 mb-xl-0" style="margin-top: 50px; margin-bottom: 30px;">
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    <h5 class="card-title text-uppercase text-muted mb-0">Total Users</h5>
                    <span class="h2 font-weight-bold mb-0">{{ totalUserCount }}</span>
                  </div>
                  <div class="col-auto">
                    <div class="badge  ">
                      <i class="ph ph-user-circle" style="font-size: 24px;color:#A51C05;"></i>
                    </div>
                  </div>
                </div>
                <p class="mt-3 mb-0 text-muted text-sm">
                  <span class="text-danger mr-2" ><i class="fas fa-arrow-down" ></i> </span>
                  <span class="text-nowrap"></span>
                </p>
              </div>
            </div>
          </div>

       


          <div class="col-xl-3 col-lg-6" (click)="toggleChefTableVisibility()" >
            <div class="card card-stats mb-4 mb-xl-0" style="margin-top: 50px; margin-bottom: 30px;">
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    <h5 class="card-title text-uppercase text-muted mb-0">Total Chefs</h5>
                    <span class="h2 font-weight-bold mb-0">{{ totalChefCount }}</span>
                  </div>
                <div class="col-auto">
                    <div class="badge">
                      <i class="ph ph-user-circle" style="font-size: 24px;color:#A51C05;"></i>
                    </div>
                  </div>
                </div>
                <p class="mt-3 mb-0 text-muted text-sm">
                  <span class="text-danger mr-2"><i class="fas fa-arrow-down"></i> </span>
                  <span class="text-nowrap"></span>
                </p>
              </div>
            </div>
          </div>




          <div class="col-xl-3 col-lg-6" style="margin-top: 50px; margin-bottom: 30px;" (click) = "toggleSubscribedUsersTableVisibility()">
            <div class="card card-stats mb-4 mb-xl-0">
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    <h5 class="card-title text-uppercase text-muted mb-0">Subscribed Users</h5>
                    <span class="h2 font-weight-bold mb-0">{{totalCountSubscribed}}</span>
                  </div>
                  <div class="col-auto">
                    <div class="badge">
                      <i class="ph ph-user-plus" style="font-size: 24px;color:#A51C05;"></i>
                    </div>
                  </div>
                </div>
                <p class="mt-3 mb-0 text-muted text-sm">
                  <span class="text-warning mr-2"><i class="fas fa-arrow-down"></i> </span>
                  <span class="text-nowrap"></span>
                </p>
              </div>
            </div>
          </div>



          <div class="col-xl-3 col-lg-6" style="margin-top: 50px; margin-bottom: 30px;" (click)="toggleAdminTableVisibility()">
            <div class="card card-stats mb-4 mb-xl-0">
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    <h5 class="card-title text-uppercase text-muted mb-0">Total Admin</h5>
                    <span class="h2 font-weight-bold mb-0">{{ totalAdminCount }}</span>
                  </div>
                  <div class="col-auto">
                    <div class="badge">
                      <i class="ph ph-user-square" style="font-size: 24px;color:#A51C05;"></i>
                    </div>
                  </div>
                </div>
                <p class="mt-3 mb-0 text-muted text-sm">
                  <span class="text-success mr-2"><i class="fas fa-arrow-up"></i> </span>
                  <span class="text-nowrap"></span>
                </p>
              </div>
            </div>
          </div>


          <div class="col-xl-3 col-lg-6" style="margin-top: 50px; margin-bottom: 30px;" (click)="allVideos()">
            <div class="card card-stats mb-4 mb-xl-0">
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    <h5 class="card-title text-uppercase text-muted mb-0">Total Videos</h5>
                    <span class="h2 font-weight-bold mb-0">{{ video_fulldetail }}</span>
                    <!-- <span class="h2 font-weight-bold mb-0">10</span> -->
                    

                  </div>
                  <div class="col-auto">
                    <div class="badge">
                      <i class="ph ph-monitor-play" style="font-size: 24px;color:#A51C05;"></i>
                    </div>
                  </div>
                </div>
                <p class="mt-3 mb-0 text-muted text-sm">
                  <span class="text-success mr-2"><i class="fas fa-arrow-up"></i> </span>
                  <span class="text-nowrap"></span>
                </p>
              </div>
            </div>
          </div>




          <div class="col-xl-3 col-lg-6" style="margin-top: 50px; margin-bottom: 30px;" (click)="VideosComponent()" >
            <div class="card card-stats mb-4 mb-xl-0">
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    <h5 class="card-title text-uppercase text-muted mb-0">New Videos</h5>
                    <span class="h2 font-weight-bold mb-0">{{ all_newChefVideos_1 }}</span>
                  </div>
                  <div class="col-auto">
                    <div class="badge">
                      <i class="ph ph-video-camera" style="font-size: 24px;color:#A51C05;" ></i>
                    </div>
                  </div>
                </div>
                <p class="mt-3 mb-0 text-muted text-sm">
                  <span class="text-success mr-2"><i class="fas fa-arrow-up"></i> </span>
                  <span class="text-nowrap"></span>
                </p>
              </div>
            </div>
          </div>



          <div class="col-xl-3 col-lg-6" style="margin-top: 50px; margin-bottom: 30px;" (click)="approvedvideos()">
            <div class="card card-stats mb-4 mb-xl-0">
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    <h5 class="card-title text-uppercase text-muted mb-0">Approved Videos</h5>
                    <!-- <span class="h2 font-weight-bold mb-0">{{ all_notapproved_videos }}</span> -->
                    <span class="h2 font-weight-bold mb-0">{{ all_notapproved_videos }}</span>

                  </div>
                  <div class="col-auto">
                    <div class="badge">
                      <i class="ph ph-file-video"  style="font-size: 24px;color:#A51C05;"></i>
                    </div>
                  </div>
                </div>
                <p class="mt-3 mb-0 text-muted text-sm">
                  <span class="text-success mr-2"><i class="fas fa-arrow-up"></i> </span>
                  <span class="text-nowrap"></span>
                </p>
              </div>
            </div>
          </div>



          <div class="col-xl-3 col-lg-6" style="margin-top: 50px; margin-bottom: 30px;"  (click)="rejectedvideos()">
            <div class="card card-stats mb-4 mb-xl-0">
              <div class="card-body">
                <div class="row">
                  <div class="col">
                    <h5 class="card-title text-uppercase text-muted mb-0">Rejected Videos</h5>
                    <span class="h2 font-weight-bold mb-0">{{all_deleted_videos  }}</span>
                  </div>
                  <div class="col-auto">
                    <div class="badge">
                      <i class="ph ph-video-camera-slash"  style="font-size: 24px;color:#A51C05;"></i>
                    </div>
                  </div>
                </div>
                <p class="mt-3 mb-0 text-muted text-sm">
                  <span class="text-success mr-2"><i class="fas fa-arrow-up"></i> </span>
                  <span class="text-nowrap"></span>
                </p>
              </div>
            </div>
          </div>


<!-- start of table total users  -->
          
<div class="col-l-9 mt-5 mx-auto d-block" *ngIf="isUserTableVisible">
  <h3>List of Users</h3>
  <table class="table table-bordered table-striped">
    <thead class="thead-dark">
      <tr>
        <th scope="col" >ID</th>
        <th scope="col">Name</th>
        <th scope="col">Email</th>
        <th scope="col">Mobile Number</th>
        <th scope="col">User Type</th>
        <!-- <th scope="col">Following chefIds</th>
        <th scope="col">Is Email Verified</th>
        <th scope="col">Is Mobile Verified</th> -->
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
     
      <tr *ngFor="let user of all_userdetails">
        <th scope="row">{{user.id}}</th>
        <td>{{user.userName}}</td>
        <td>{{user.email}}</td>
        <td>{{user.mobileNumber}}</td>
        <td>{{user.userType}}</td>
        <!-- <td>{{user.followingChefId}}</td>
        <td>{{user.isEmailVerified}}</td>
        <td>{{user.isMobileVerified}}</td> -->
        <td>
          <div class="d-flex justify-content-between">
            <!-- <button class="btn btn-outline-primary" (click)="editUser(user.id)">Edit</button> -->
            <button class="btn btn-outline-danger" (click)="deleteUser(user.id)">Delete</button>
          </div>
        </td>
        
      </tr>
    </tbody>
  </table>
</div>

        <!-- end of tanble  -->




        <div class="search-hero" *ngIf="isChefTableVisible">
          <input class="form-control" type="text" name="search" [(ngModel)]="searchText" autocomplete="off" placeholder="&#61442;  Start searching the chefs">
        </div>
        <!-- start of  total chefs  -->
        <div class="col-l-9 mt-5 mx-auto d-block" *ngIf="isChefTableVisible">
          <h3>List of Chefs</h3> 
          <table class="table table-bordered" >
          <thead>
            <tr>
              <th scope="col">ID</th>
              <th scope="col">Name</th>
              <th scope="col">Email</th>
              <th scope="col">Mobile Number</th>
              <th scope="col">User Type</th>
          
              <!-- <th scope="col">Is Email Verified</th>
              <th scope="col">Is Mobile Verified</th> -->
        <th scope="col">Actions</th>
   </tr>
          </thead>
          <tbody>
           
            <tr *ngFor="let chefs of all_chefdetails ">
              <th scope="row">{{chefs.id}}</th>
              <td>{{chefs.userName}}</td>
              <td>{{chefs.email}}</td>
              <td>{{chefs.mobileNumber}}</td>
              <td>{{chefs.userType}}</td>
           
              <!-- <td>{{chefs.isEmailVerified}}</td>
              <td>{{chefs.isMobileVerified}}</td> -->

              <td >
                <div class="d-flex justify-content-between">
                  <!-- <button class="btn btn-outline-primary" (click)="editUser(user.id)">Edit</button> -->
                  <button class="btn btn-outline-danger" (click)="deleteChef(chefs.id)">Delete</button>                
                </div>
              </td>
            </tr>
                    
          </tbody>
        </table>
      </div>
      <!-- end of tanble  -->




 <!-- start of  total admins table  -->
 <div class="col-l-9 mt-5 mx-auto d-block" *ngIf="isAdminTableVisible">
  <h3>List of Admins</h3> 
  <table class="table table-bordered" >
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Name</th>
      <th scope="col">Email</th>
      <!-- <th scope="col">Mobile Number</th> -->
      <th scope="col">User Type</th>

      <th scope="col" *ngIf="role == 'Superadmin'">Actions</th>





    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let admins of all_admindetails">
      <th scope="row">{{admins.id}}</th>
      <td>{{admins.userName}}</td>
      <td>{{admins.email}}</td>
      <!-- <td>{{admins.mobileNumber}}</td> -->
      <td>{{admins.role}}</td>
  
      <td *ngIf="role == 'Superadmin'"> 
        <div class="d-flex justify-content-between">
     
          <button class="btn btn-outline-danger"  (click)="deleteAdmin(admins.id)">Delete</button>
         

        </div>
      </td>



    </tr>
  
    
  </tbody>
</table>
</div>



<!-- list of suscribed users  -->
<div class="col-l-9 mt-5 mx-auto d-block" *ngIf="isSuscribedUsersTableVisible">
  <h3>List of Subscribed Users</h3> 
  <table class="table table-bordered" >
  <thead>
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Name</th>
      <th scope="col">Email</th>
      <th scope="col">Mobile Number</th>
      <th scope="col">User Type</th>

      <th scope="col">Actions</th>





    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let suUsers of all_suscribed_users">
      <th scope="row">{{suUsers.id}}</th>
      <td>{{suUsers.userName}}</td>
      <td>{{suUsers.email}}</td>
      <td>{{suUsers.mobileNumber}}</td>
      <td>{{suUsers.userType}}</td>
  
      <td > 
        <div class="d-flex justify-content-between">
     
          <button class="btn btn-outline-danger"  (click)="deleteAdmin(suUsers.id)">Delete</button>
         

        </div>
      </td>



    </tr>
  
    
  </tbody>
</table>
</div>
<!-- end of tanble  -->




        </div>
      </div>
     
    </div>
  </div>
</div>



  </div>
</div>






<!-- popup for add admin -->






<div
  class="modal fade"
  id="mahisiva"
  tabindex="-4"
  role="dialog"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered modal-md" role="document">
    <div class="modal-content finnup__profile-modal">
      <form #form2="ngForm">
        <div class="modal-header border-0">
          <div
            class="finnup__modal-title"
            style="margin: auto; text-align: center"
          >
            <h3 class="modal-title display-2" id="exampleModalLabel">
              Add Team Members
            </h3>

            <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
              <span aria-hidden="true" style="font-size: 40px;">&times;</span>
            </button>
           
          </div>
     
         
        </div>
        <div>
          <div class="modal-body border-0">
            <div class="row mt-25">
              <div class="col-lg-10 mt-20" style="margin: auto">
                <label>Name <span class="text-danger">*</span></label>
                <div class="input-group">
                  <input
                    type="text"
                    autocomplete="off"
                    class="form-control"
                    placeholder="Enter name"
                    required
                    [(ngModel)]="model.userName"
                    name="userName"
                   
                   
                  />
                </div>
              </div>
            </div>
            <div class="row mt-20">
              <div class="col-lg-10 mb-4" style="margin: auto">
                <label>Email<span class="text-danger">*</span> </label>

                <div class="input-group">
                  <input
                    type="email"
                    class="form-control"
                    placeholder="Enter email id "
                    required
                    [(ngModel)]="model.email"
                    autocomplete="off"
                   
                    name="email" 
                  
                   
                    />
                </div>
              </div>
        

              <div class="col-lg-10 mb-4" style="margin: auto">
                <label>Password <span class="text-danger">*</span></label>
                <div class="input-group">
                  <input
                    type="text"
                    autocomplete="off"
                    required
                    [(ngModel)]="model.password"
                    pattern="^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$"
                    class="form-control"
                    placeholder="Enter Password"
                    name="password" 
                   
                  
                  />
                </div>
              </div>

            

            </div>

            <div class="col-12 text-center pt-30">
        
              <button style="margin-left: 15px;"
              type="submit"
              class="btn hi s-bor mb-30"
              [disabled] = "form2.invalid" (click)="AddAdmin(form2)"
              data-bs-dismiss="modal"
              aria-label="Close"
              id="reloaded">
              Save/Send mail
            </button>
            </div>

          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<!-- end of modal  -->


<!--  -->

            </div>
          </section>
        </div>
        </main>
        </div>